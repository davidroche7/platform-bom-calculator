<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Platform BOM Calculator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        h1 {
            text-align: center;
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .grid { grid-template-columns: 1fr; }
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .calculate-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 20px;
        }
        
        .calculate-btn:hover {
            transform: translateY(-2px);
        }
        
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .metric h3 {
            font-size: 0.8rem;
            text-transform: uppercase;
            color: #888;
            margin-bottom: 10px;
        }
        
        .metric .amount {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }
        
        .breakdown {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .breakdown h3 {
            margin-bottom: 15px;
            color: #333;
        }
        
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .breakdown-item:last-child {
            border-bottom: none;
            font-weight: bold;
        }
        
        .templates {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .template-btn {
            padding: 8px 16px;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
        }
        
        .template-btn:hover {
            background: #e0e0e0;
        }
        
        .json-section {
            margin-top: 20px;
        }
        
        .json-textarea {
            width: 100%;
            height: 200px;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
        }
        
        .json-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.2s;
        }
        
        .btn:hover {
            background: #f0f0f0;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .btn-primary:hover {
            background: #5a6fd8;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>üöÄ Platform BOM Calculator</h1>
            <p class="subtitle">Frankfurt AWS Pricing | June 2025</p>
            
            <div class="grid">
                <div>
                    <div class="input-group">
                        <label for="clientName">Client Name</label>
                        <input type="text" id="clientName" value="Sample Client">
                    </div>
                    
                    <div class="input-group">
                        <label for="environment">Environment</label>
                        <select id="environment">
                            <option value="dev">Development Only</option>
                            <option value="dev-test">Dev + Test</option>
                            <option value="dev-test-stage">Dev + Test + Staging</option>
                            <option value="full">Full Production</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="users">Daily Active Users</label>
                        <input type="number" id="users" value="5000">
                    </div>
                    
                    <div class="input-group">
                        <label for="apiCalls">API Calls/Month (millions)</label>
                        <input type="number" id="apiCalls" value="2.5" step="0.1">
                    </div>
                </div>
                
                <div>
                    <div class="input-group">
                        <label for="dataVolume">Data Volume (GB)</label>
                        <input type="number" id="dataVolume" value="300">
                    </div>
                    
                    <div class="input-group">
                        <label for="throughput">Peak Throughput (req/sec)</label>
                        <input type="number" id="throughput" value="1500">
                    </div>
                    
                    <div class="input-group">
                        <label for="discount">AWS Discount (%)</label>
                        <input type="number" id="discount" value="10" min="0" max="50">
                    </div>
                    
                    <div class="templates">
                        <button class="template-btn" onclick="loadTemplate('startup')">üöÄ Startup</button>
                        <button class="template-btn" onclick="loadTemplate('growth')">üìà Growth</button>
                        <button class="template-btn" onclick="loadTemplate('enterprise')">üè¢ Enterprise</button>
                    </div>
                </div>
            </div>
            
            <button class="calculate-btn" onclick="calculate()">Calculate Costs</button>
        </div>
        
        <div class="card">
            <h2>üí∞ Cost Summary</h2>
            <div class="metrics">
                <div class="metric">
                    <h3>Fixed Monthly</h3>
                    <div class="amount" id="fixedCost">‚Ç¨0</div>
                </div>
                <div class="metric">
                    <h3>Variable Monthly</h3>
                    <div class="amount" id="variableCost">‚Ç¨0</div>
                </div>
                <div class="metric">
                    <h3>Total Monthly</h3>
                    <div class="amount" id="totalCost">‚Ç¨0</div>
                </div>
                <div class="metric">
                    <h3>Annual Cost</h3>
                    <div class="amount" id="annualCost">‚Ç¨0</div>
                </div>
            </div>
            
            <div class="breakdown">
                <h3>Cost Breakdown</h3>
                <div id="breakdownList">
                    <!-- Dynamic content -->
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2>üîß Configuration</h2>
            <div class="json-section">
                <textarea id="jsonConfig" class="json-textarea" placeholder="JSON configuration will appear here..."></textarea>
                <div class="json-buttons">
                    <button class="btn btn-primary" onclick="loadFromJSON()">Import JSON</button>
                    <button class="btn" onclick="exportToJSON()">Export JSON</button>
                    <button class="btn" onclick="downloadJSON()">Download</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Frankfurt AWS Pricing (EUR) - June 2025 - Based on Official Pricing Document
        const pricing = {
            // EKS Cluster (‚Ç¨0.09 per hour = ‚Ç¨65.70/month)
            eks: {
                cluster: 65.70, // EKS cluster management per month
                nodeGroup: {
                    small: 65.70,   // t3.large (‚Ç¨0.09/hr)
                    medium: 131.40, // t3.xlarge (‚Ç¨0.18/hr)  
                    large: 255.50,  // c5.2xlarge (‚Ç¨0.35/hr)
                    xlarge: 511.00  // 2x c5.2xlarge
                }
            },
            
            // Aurora PostgreSQL (per instance)
            aurora: {
                small: 80.30,   // db.t3.medium (‚Ç¨0.11/hr)
                medium: 160.60, // db.t3.large (‚Ç¨0.22/hr)
                large: 321.20,  // 2x db.t3.large
                xlarge: 642.40, // 4x db.t3.large
                storage: 0.09   // ‚Ç¨0.09 per GB-month for Aurora storage
            },
            
            // ElastiCache Redis
            elasticache: {
                micro: 11.68,   // cache.t3.micro (‚Ç¨0.016/hr)
                small: 23.36,   // 2x cache.t3.micro
                medium: 46.72,  // 4x cache.t3.micro
                large: 93.44    // 8x cache.t3.micro
            },
            
            // MongoDB Atlas (Third-party on AWS Frankfurt)
            mongodb: {
                small: 135.00,  // M20 cluster (‚Ç¨0.18/hr = ‚Ç¨135/month)
                medium: 270.00, // 2x M20
                large: 540.00,  // 4x M20
                xlarge: 690.00  // M40 cluster (‚Ç¨0.95/hr = ‚Ç¨690/month)
            },
            
            // Storage
            storage: {
                ebs_gp3: 0.072,     // ‚Ç¨0.072 per GB/month (after EUR conversion)
                s3_standard: 0.022, // ‚Ç¨0.022 per GB/month
                backup_warm: 0.046, // ‚Ç¨0.046 per GB/month for AWS Backup
                ecr: 0.09           // ‚Ç¨0.09 per GB/month for container registry
            },
            
            // Networking
            networking: {
                alb_base: 16.79,           // ‚Ç¨0.023/hr = ‚Ç¨16.79/month
                alb_lcu: 0.007,            // ‚Ç¨0.007 per LCU-hour
                nlb_base: 15.33,           // ‚Ç¨0.021/hr = ‚Ç¨15.33/month  
                nlb_capacity: 0.005,       // Estimated NLCU cost per hour
                data_transfer_out: 0.105,  // ‚Ç¨0.105 per GB
                cloudfront_transfer: 0.018 // ‚Ç¨0.018 per GB (reduced from direct transfer)
            },
            
            // Managed Services
            msk: {
                small: 29.20,   // kafka.t3.small (‚Ç¨0.04/hr)
                medium: 138.70, // kafka.m5.large (‚Ç¨0.19/hr)
                large: 416.10,  // 3x kafka.m5.large for HA cluster
                storage: 0.09   // ‚Ç¨0.09 per GB-month
            },
            
            // Security & Compliance
            security: {
                waf_acl: 4.60,      // ‚Ç¨4.60 per Web ACL/month
                waf_rule: 0.92,     // ‚Ç¨0.92 per rule/month
                waf_requests: 0.55  // ‚Ç¨0.55 per million requests
            },
            
            // Monitoring
            monitoring: {
                cloudwatch_metric: 0.27,    // ‚Ç¨0.27 per metric/month
                cloudwatch_logs_ingest: 0.50, // ‚Ç¨0.50 per GB ingested
                cloudwatch_logs_storage: 0.03 // ‚Ç¨0.03 per GB/month storage
            },
            
            // Third-party Services (Monthly costs)
            thirdParty: {
                wso2_micro: 458.33,        // ‚Ç¨460/month (‚Ç¨5,500/year √∑ 12)
                wso2_standard: 1833.33,    // ‚Ç¨1,833/month (‚Ç¨22,000/year √∑ 12)
                auth0_essentials: 32.00,   // ‚Ç¨32/month for 500 MAUs
                auth0_professional: 220.00, // ‚Ç¨220/month for 1,000 MAUs
                cloudflare_pro: 23.00,     // ‚Ç¨23/month
                cloudflare_business: 184.00 // ‚Ç¨184/month
            }
        };
        
        // Environment multipliers
        const envMultipliers = {
            dev: 1,
            'dev-test': 1.8,
            'dev-test-stage': 2.5,
            full: 3.2
        };
        
        // Template configurations
        const templates = {
            startup: { 
                users: 1000, 
                apiCalls: 0.5, 
                dataVolume: 100, 
                throughput: 500, 
                discount: 0,
                environment: 'dev-test'
            },
            growth: { 
                users: 15000, 
                apiCalls: 5, 
                dataVolume: 800, 
                throughput: 3000, 
                discount: 15,
                environment: 'dev-test-stage'
            },
            enterprise: { 
                users: 75000, 
                apiCalls: 25, 
                dataVolume: 5000, 
                throughput: 15000, 
                discount: 25,
                environment: 'full'
            }
        };
        
        function loadTemplate(type) {
            const template = templates[type];
            document.getElementById('users').value = template.users;
            document.getElementById('apiCalls').value = template.apiCalls;
            document.getElementById('dataVolume').value = template.dataVolume;
            document.getElementById('throughput').value = template.throughput;
            document.getElementById('discount').value = template.discount;
            document.getElementById('environment').value = template.environment;
            calculate();
        }
        
        function getConfig() {
            return {
                clientName: document.getElementById('clientName').value,
                environment: document.getElementById('environment').value,
                users: parseInt(document.getElementById('users').value) || 0,
                apiCalls: parseFloat(document.getElementById('apiCalls').value) || 0,
                dataVolume: parseInt(document.getElementById('dataVolume').value) || 0,
                throughput: parseInt(document.getElementById('throughput').value) || 0,
                discount: parseInt(document.getElementById('discount').value) || 0
            };
        }
        
        function calculate() {
            const config = getConfig();
            const envMultiplier = envMultipliers[config.environment];
            
            // Calculate infrastructure sizing based on load
            const userTier = config.users <= 5000 ? 'small' : config.users <= 25000 ? 'medium' : config.users <= 100000 ? 'large' : 'xlarge';
            const throughputTier = config.throughput <= 1000 ? 'small' : config.throughput <= 5000 ? 'medium' : config.throughput <= 20000 ? 'large' : 'xlarge';
            const dataTier = config.dataVolume <= 500 ? 'small' : config.dataVolume <= 2000 ? 'medium' : config.dataVolume <= 10000 ? 'large' : 'xlarge';
            
            // EKS Infrastructure
            const eksCluster = pricing.eks.cluster;
            const eksNodes = Math.max(2, Math.ceil(config.throughput / 2000)) * pricing.eks.nodeGroup[throughputTier];
            
            // Database Costs
            const auroraInstances = Math.max(1, Math.ceil(config.users / 25000));
            const auroraCost = auroraInstances * pricing.aurora[userTier];
            const auroraStorageCost = config.dataVolume * pricing.aurora.storage;
            
            // Caching Layer (ElastiCache Redis)
            const redisCost = pricing.elasticache[userTier];
            
            // MongoDB Atlas for specific use cases
            const mongodbCost = config.dataVolume > 1000 ? pricing.mongodb[dataTier] : 0;
            
            // Storage Costs
            const ebsStorage = Math.max(100, config.dataVolume * 0.3) * pricing.storage.ebs_gp3;
            const s3Storage = config.dataVolume * pricing.storage.s3_standard;
            const ecrStorage = Math.max(5, Math.ceil(config.throughput / 1000)) * pricing.storage.ecr; // Container images
            
            // Load Balancers and Networking
            const numALBs = Math.max(2, Math.ceil(envMultiplier)); // ALB per environment
            const albBaseCost = numALBs * pricing.networking.alb_base;
            const albLCUCost = numALBs * Math.ceil(config.throughput / 1000) * pricing.networking.alb_lcu * 24 * 30; // Monthly LCU cost
            
            // Data Transfer Costs
            const dataTransferOut = (config.dataVolume * 0.2 + config.apiCalls * 0.001) * pricing.networking.data_transfer_out;
            const cloudfrontTransfer = config.dataVolume * 0.4 * pricing.networking.cloudfront_transfer;
            
            // Kafka for Event Streaming (if high throughput)
            const kafkaCost = config.throughput > 2000 ? pricing.msk.medium : 0;
            const kafkaStorageCost = config.throughput > 2000 ? Math.max(100, config.apiCalls * 10) * pricing.msk.storage : 0;
            
            // Security (WAF)
            const wafCost = pricing.security.waf_acl + (5 * pricing.security.waf_rule) + 
                           (config.apiCalls * pricing.security.waf_requests);
            
            // Monitoring
            const cloudwatchMetrics = Math.max(50, config.users / 100 + config.throughput / 50);
            const cloudwatchCost = cloudwatchMetrics * pricing.monitoring.cloudwatch_metric;
            const logsCost = Math.max(5, config.apiCalls * 0.5) * pricing.monitoring.cloudwatch_logs_ingest;
            const logsStorageCost = Math.max(10, config.apiCalls * 0.5) * pricing.monitoring.cloudwatch_logs_storage;
            
            // Backup Costs
            const backupCost = (config.dataVolume * 0.3) * pricing.storage.backup_warm;
            
            // Third-party Services
            let apiManagementCost = 0;
            if (config.apiCalls >= 10) {
                apiManagementCost = pricing.thirdParty.wso2_standard; // High volume
            } else if (config.apiCalls >= 1) {
                apiManagementCost = pricing.thirdParty.wso2_micro; // Standard volume
            }
            
            const authCost = config.users > 1000 ? pricing.thirdParty.auth0_professional : pricing.thirdParty.auth0_essentials;
            const cdnCost = config.users > 10000 ? pricing.thirdParty.cloudflare_business : pricing.thirdParty.cloudflare_pro;
            
            // Calculate totals
            const awsInfraCost = (
                eksCluster + eksNodes + 
                auroraCost + auroraStorageCost + redisCost + mongodbCost +
                ebsStorage + s3Storage + ecrStorage +
                albBaseCost + albLCUCost + dataTransferOut + cloudfrontTransfer +
                kafkaCost + kafkaStorageCost +
                wafCost + 
                cloudwatchCost + logsCost + logsStorageCost +
                backupCost
            ) * envMultiplier;
            
            const thirdPartyCost = apiManagementCost + authCost + cdnCost;
            const subtotal = awsInfraCost + thirdPartyCost;
            const discountAmount = awsInfraCost * (config.discount / 100); // Only AWS costs get discount
            const totalCost = subtotal - discountAmount;
            const annualCost = totalCost * 12;
            
            // Update display
            document.getElementById('fixedCost').textContent = `‚Ç¨${thirdPartyCost.toFixed(0)}`;
            document.getElementById('variableCost').textContent = `‚Ç¨${(awsInfraCost - discountAmount).toFixed(0)}`;
            document.getElementById('totalCost').textContent = `‚Ç¨${totalCost.toFixed(0)}`;
            document.getElementById('annualCost').textContent = `‚Ç¨${(annualCost/1000).toFixed(1)}k`;
            
            // Update detailed breakdown
            const breakdown = document.getElementById('breakdownList');
            breakdown.innerHTML = `
                <div class="breakdown-item"><span><strong>üîß EKS Container Platform</strong></span><span></span></div>
                <div class="breakdown-item"><span>EKS Cluster Management</span><span>‚Ç¨${(eksCluster * envMultiplier).toFixed(0)}</span></div>
                <div class="breakdown-item"><span>EKS Worker Nodes (${Math.max(2, Math.ceil(config.throughput / 2000))}x ${throughputTier})</span><span>‚Ç¨${(eksNodes * envMultiplier).toFixed(0)}</span></div>
                
                <div class="breakdown-item"><span><strong>üóÑÔ∏è Databases & Caching</strong></span><span></span></div>
                <div class="breakdown-item"><span>Aurora PostgreSQL (${auroraInstances}x ${userTier})</span><span>‚Ç¨${(auroraCost * envMultiplier).toFixed(0)}</span></div>
                <div class="breakdown-item"><span>Aurora Storage (${config.dataVolume}GB)</span><span>‚Ç¨${(auroraStorageCost * envMultiplier).toFixed(0)}</span></div>
                <div class="breakdown-item"><span>ElastiCache Redis (${userTier})</span><span>‚Ç¨${(redisCost * envMultiplier).toFixed(0)}</span></div>
                ${mongodbCost > 0 ? `<div class="breakdown-item"><span>MongoDB Atlas (${dataTier})</span><span>‚Ç¨${(mongodbCost * envMultiplier).toFixed(0)}</span></div>` : ''}
                
                <div class="breakdown-item"><span><strong>üíæ Storage</strong></span><span></span></div>
                <div class="breakdown-item"><span>EBS GP3 Storage (${Math.max(100, config.dataVolume * 0.3).toFixed(0)}GB)</span><span>‚Ç¨${(ebsStorage * envMultiplier).toFixed(0)}</span></div>
                <div class="breakdown-item"><span>S3 Object Storage (${config.dataVolume}GB)</span><span>‚Ç¨${(s3Storage * envMultiplier).toFixed(0)}</span></div>
                <div class="breakdown-item"><span>ECR Container Registry (${Math.max(5, Math.ceil(config.throughput / 1000))}GB)</span><span>‚Ç¨${(ecrStorage * envMultiplier).toFixed(0)}</span></div>
                
                <div class="breakdown-item"><span><strong>üåê Load Balancing & Networking</strong></span><span></span></div>
                <div class="breakdown-item"><span>Application Load Balancers (${numALBs}x)</span><span>‚Ç¨${((albBaseCost + albLCUCost) * envMultiplier).toFixed(0)}</span></div>
                <div class="breakdown-item"><span>Data Transfer Out</span><span>‚Ç¨${(dataTransferOut * envMultiplier).toFixed(0)}</span></div>
                
                ${kafkaCost > 0 ? `
                <div class="breakdown-item"><span><strong>üì° Event Streaming</strong></span><span></span></div>
                <div class="breakdown-item"><span>Managed Kafka (MSK)</span><span>‚Ç¨${((kafkaCost + kafkaStorageCost) * envMultiplier).toFixed(0)}</span></div>
                ` : ''}
                
                <div class="breakdown-item"><span><strong>üîí Security</strong></span><span></span></div>
                <div class="breakdown-item"><span>AWS WAF (${config.apiCalls}M req/month)</span><span>‚Ç¨${(wafCost * envMultiplier).toFixed(0)}</span></div>
                
                <div class="breakdown-item"><span><strong>üìä Monitoring & Logging</strong></span><span></span></div>
                <div class="breakdown-item"><span>CloudWatch Metrics (${cloudwatchMetrics.toFixed(0)})</span><span>‚Ç¨${(cloudwatchCost * envMultiplier).toFixed(0)}</span></div>
                <div class="breakdown-item"><span>CloudWatch Logs (${Math.max(5, config.apiCalls * 0.5).toFixed(0)}GB)</span><span>‚Ç¨${((logsCost + logsStorageCost) * envMultiplier).toFixed(0)}</span></div>
                
                <div class="breakdown-item"><span><strong>üíæ Backup & DR</strong></span><span></span></div>
                <div class="breakdown-item"><span>AWS Backup Storage</span><span>‚Ç¨${(backupCost * envMultiplier).toFixed(0)}</span></div>
                
                <div class="breakdown-item"><span><strong>üîß Third-party Services</strong></span><span></span></div>
                ${apiManagementCost > 0 ? `<div class="breakdown-item"><span>WSO2 API Manager (${config.apiCalls >= 10 ? 'Standard' : 'Micro'})</span><span>‚Ç¨${apiManagementCost.toFixed(0)}</span></div>` : ''}
                <div class="breakdown-item"><span>Auth0 Identity (${config.users > 1000 ? 'Professional' : 'Essentials'})</span><span>‚Ç¨${authCost.toFixed(0)}</span></div>
                <div class="breakdown-item"><span>Cloudflare CDN (${config.users > 10000 ? 'Business' : 'Pro'})</span><span>‚Ç¨${cdnCost.toFixed(0)}</span></div>
                
                ${config.discount > 0 ? `<div class="breakdown-item"><span>AWS Discount (${config.discount}%)</span><span>-‚Ç¨${discountAmount.toFixed(0)}</span></div>` : ''}
                <div class="breakdown-item"><span><strong>üí∞ Total Monthly Cost</strong></span><span><strong>‚Ç¨${totalCost.toFixed(0)}</strong></span></div>
            `;
            
            updateJSON();
        }
        
        function updateJSON() {
            const config = getConfig();
            document.getElementById('jsonConfig').value = JSON.stringify(config, null, 2);
        }
        
        function loadFromJSON() {
            try {
                const json = document.getElementById('jsonConfig').value;
                const config = JSON.parse(json);
                
                document.getElementById('dataVolume').value = config.dataVolume || 0;
                document.getElementById('throughput').value = config.throughput || 0;
                document.getElementById('discount').value = config.discount || 0;
                
                calculate();
            } catch (error) {
                alert('Invalid JSON format');
            }
        }
        
        function exportToJSON() {
            updateJSON();
            navigator.clipboard.writeText(document.getElementById('jsonConfig').value)
                .then(() => alert('JSON copied to clipboard!'))
                .catch(() => alert('Failed to copy JSON'));
        }
        
        function downloadJSON() {
            const config = getConfig();
            const blob = new Blob([JSON.stringify(config, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${config.clientName.replace(/\s+/g, '_')}_config.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            calculate();
            
            // Auto-calculate on input changes
            const inputs = document.querySelectorAll('input, select');
            inputs.forEach(input => {
                input.addEventListener('input', calculate);
            });
        });
    </script>
</body>
</html>d('clientName').value = config.clientName || '';
                document.getElementById('environment').value = config.environment || 'dev';
                document.getElementById('users').value = config.users || 0;
                document.getElementById('apiCalls').value = config.apiCalls || 0;
                document.getElementByI
